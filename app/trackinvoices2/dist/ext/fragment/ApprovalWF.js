sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:async function(e){debugger;var t=e.oSource.getModel().getServiceUrl();let a=e.getSource();if(sap.ui.getCore().byId("popover1"))sap.ui.getCore().byId("popover1").destroy();if(e.oSource.getText()=="New"||e.oSource.getText()=="Draft"){var o=new sap.m.Popover("popover1",{resizable:true,title:`${e.oSource.getText()}`,placement:"Left"});o.addContent(new sap.m.MessageStrip({type:"Warning",text:"status will be available once sent for Approval!",showIcon:true}))}else{var n=sap.ui.getCore().byId(e.oSource.oParent.sId).getCells()[0].getText();var s;var r=t+`approvalWorkFlow?$filter=(invoiceNo eq '${n}')`;await $.ajax({url:r,method:"GET",success:function(e){debugger;s=e.value}});s.sort((e,t)=>{parseFloat(e.level)-parseFloat(t.level)});var o=new sap.m.Popover("popover1",{resizable:true,title:`${e.oSource.getText()}`,placement:"Left",contentHeight:"100px",contentWidth:"500px",enableScrolling:true});o.addContent(new sap.m.Table({fixedLayout:false,showSeparators:"All"}));o.mAggregations.content[0].addColumn(new sap.m.Column({width:"70px"}).setHeader(new sap.m.Text({text:"Level"})));o.mAggregations.content[0].addColumn(new sap.m.Column({width:"120px"}).setHeader(new sap.m.Text({text:"Groups"})));o.mAggregations.content[0].addColumn(new sap.m.Column({width:"120px"}).setHeader(new sap.m.Text({text:"Members"})));o.mAggregations.content[0].addColumn(new sap.m.Column({width:"70px"}).setHeader(new sap.m.Text({text:"Status"})));o.mAggregations.content[0].addColumn(new sap.m.Column({width:"100pxpx"}).setHeader(new sap.m.Text({text:"Action By"})));s.forEach(e=>{let t=new sap.m.ColumnListItem;t.addCell(new sap.m.Text({text:`${e.level}`}));t.addCell(new sap.m.Text({text:`${e.groups}`}));t.addCell(new sap.m.Text({text:`${e.members}`}));t.addCell(new sap.m.Text({text:`${e.status}`}));t.addCell(new sap.m.Text({text:`${e.actionBy}`}));o.mAggregations.content[0].addItem(t)})}o.openBy(a)}}});